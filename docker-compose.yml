services:
  app:
    build:
      context: .
      args:
        user: laravel
        uid: 1000
    image: appduk-app
    container_name: appduk-app
    restart: unless-stopped
    working_dir: /var/www
    volumes:
      - ./:/var/www
    networks:
      - app-network

  nginx:
    image: nginx:alpine
    container_name: appduk-nginx
    restart: unless-stopped
    ports:
      - "8000:80"
    volumes:
      - ./:/var/www
      - ./docker/nginx/app.conf:/etc/nginx/conf.d/default.conf
    networks:
      - app-network
    depends_on:
      - app

#  # Uncomment if you need a local Oracle XE database
#  oracle:
#    image: gvenzl/oracle-xe:21-slim
#    container_name: appduk-oracle
#    ports:
#      - "1521:1521"
#    environment:
#      - ORACLE_PASSWORD=password
#      - APP_USER=laravel
#      - APP_USER_PASSWORD=laravel
#    volumes:
#      - oracle-data:/opt/oracle/oradata
#    networks:
#      - app-network

networks:
  app-network:
    driver: bridge

#volumes:
#  oracle-data:
